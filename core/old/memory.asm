; **********************************************************************************************************
;
;		Name:		memory.asm
;		Purpose		Memory addressing Words for Z80 CMForth Core (5.1.1)
;		Author:		Paul Robson (paul@robsons.org.uk)
;		Date:		28th January 2018
;
; **********************************************************************************************************

; **********************************************************************************************************
;												+! : add to memory
; **********************************************************************************************************

WD_Add16Bit:											; ==== +! ====
		exx
		pop 	hl
		pop 	de
		ld 		a,e
		add 	a,(hl)
		ld 		(hl),a
		inc 	hl
		ld 		a,d
		adc 	a,(hl)
		ld 		(hl),a
		exx
		jp 		(ix)
		db 		0,0,0

; **********************************************************************************************************
;										c! : 8 bit memory store
; **********************************************************************************************************

WD_Write8:												; ==== c! ====
		exx
		pop 	hl
		pop 	de
		ld 		(hl),e
		exx
		jp 		(ix)
		db	 	0

; **********************************************************************************************************
;										c@ : 8 bit memory read
; **********************************************************************************************************

WD_Read8:												; ==== c@ ====
		pop 	hl
		ld 		l,(hl)
		ld 		h,0
		push 	hl
		jp 		(ix)
		db 		0


